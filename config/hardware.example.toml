# Example Hardware Configuration for rust-daq
#
# This file configures hardware devices for the gRPC daemon.
# Copy this to hardware.toml and modify for your specific setup.
#
# Usage:
#   rust-daq daemon --hardware-config config/hardware.toml
#
# Or use the built-in lab configuration:
#   rust-daq daemon --lab-hardware

# ============================================================================
# Plugin Search Paths (Optional)
# ============================================================================
# Plugins are YAML-defined instrument drivers that can be loaded at runtime.
# Paths are searched in order; first path has highest priority.
# Use ~ for home directory expansion.

# plugin_paths = [
#     "~/.config/rust-daq/plugins",      # User plugins (highest priority)
#     "/usr/share/rust-daq/plugins"      # System plugins (lower priority)
# ]

# ============================================================================
# Thorlabs ELL14 Rotation Mounts (3 units on RS-485 multidrop bus)
# ============================================================================

[[devices]]
id = "rotator_2"
name = "ELL14 Rotation Mount (Addr 2, SN 005172023)"
[devices.driver]
type = "ell14"
port = "/dev/ttyUSB0"
address = "2"

[[devices]]
id = "rotator_3"
name = "ELL14 Rotation Mount (Addr 3, SN 002842021)"
[devices.driver]
type = "ell14"
port = "/dev/ttyUSB0"
address = "3"

[[devices]]
id = "rotator_8"
name = "ELL14 Rotation Mount (Addr 8, SN 006092023)"
[devices.driver]
type = "ell14"
port = "/dev/ttyUSB0"
address = "8"

# ============================================================================
# Plugin-Based Devices (YAML-defined drivers)
# ============================================================================
# Plugin devices use YAML configuration files for their protocol definition.
# The plugin_id must match the metadata.id in a YAML plugin file.

# [[devices]]
# id = "my_custom_sensor"
# name = "Custom Sensor (Plugin-Based)"
# [devices.driver]
# type = "plugin"
# plugin_id = "my-sensor-v1"      # Must match YAML metadata.id
# address = "/dev/ttyUSB2"         # Serial port or "host:port" for TCP

# [[devices]]
# id = "network_laser"
# name = "Network-Connected Laser (Plugin)"
# [devices.driver]
# type = "plugin"
# plugin_id = "network-laser-v1"
# address = "192.168.1.100:5000"   # TCP connection

# ============================================================================
# Newport 1830-C Optical Power Meter
# ============================================================================

[[devices]]
id = "power_meter"
name = "Newport 1830-C Power Meter"
[devices.driver]
type = "newport1830_c"
port = "/dev/ttyS0"

# ============================================================================
# Spectra-Physics MaiTai Ti:Sapphire Laser
# ============================================================================

[[devices]]
id = "maitai"
name = "Spectra-Physics MaiTai Ti:Sapphire Laser"
[devices.driver]
type = "mai_tai"
port = "/dev/ttyUSB5"

# ============================================================================
# Newport ESP300 Multi-Axis Motion Controller
# ============================================================================

[[devices]]
id = "stage_1"
name = "Newport ESP300 Axis 1"
[devices.driver]
type = "esp300"
port = "/dev/ttyUSB1"
axis = 1

# ============================================================================
# Mock Devices (for testing without hardware)
# ============================================================================

# Uncomment to add mock devices for testing:

# [[devices]]
# id = "mock_stage"
# name = "Mock Stage"
# [devices.driver]
# type = "mock_stage"
# initial_position = 0.0

# [[devices]]
# id = "mock_power_meter"
# name = "Mock Power Meter"
# [devices.driver]
# type = "mock_power_meter"
# reading = 1.0e-6

# [[devices]]
# id = "mock_camera"
# name = "Mock Camera"
# [devices.driver]
# type = "mock_camera"
