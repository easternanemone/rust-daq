graph TD
    %% PHASE 1 (Complete)
    P1A[bd-r896: Kameo vs V3 Analysis]:::complete
    P1B[bd-o6c7: SCPI V3 Migration]:::complete
    P1C[bd-ifxt: V3 Import Fix]:::complete

    %% PHASE 2 (V3 Migrations - READY)
    P2A[bd-95pj: ESP300 V3<br/>Jules-2]:::ready
    P2B[bd-l7vs: MaiTai V3<br/>Jules-3]:::ready
    P2C[bd-l7vs: Newport V3<br/>Jules-4]:::ready
    P2D[bd-e18h: PVCAM V3 Fix<br/>Jules-5]:::ready

    %% PHASE 3 (Data Layer - READY except HDF5)
    P3A[bd-op7v: Measurement Enum<br/>Jules-6]:::ready
    P3B[bd-9cz0: Trait Signatures<br/>Jules-7]:::ready
    P3C[bd-rcxa: Arrow Batching<br/>Jules-8]:::ready
    P3D[bd-vkp3: HDF5 + Arrow<br/>Jules-9]:::blocked

    %% PHASE 4 (Scripting - CRITICAL PATH)
    P4A[bd-hqy6: ScriptEngine Trait<br/>Jules-10]:::critical
    P4B[bd-svlx: PyO3 Backend<br/>Jules-11]:::blocked
    P4C[bd-dxqi: V3 API Bindings<br/>Jules-12]:::blocked
    P4D[bd-ya3l: Rhai Backend<br/>Jules-14]:::blocked
    P4E[bd-u7hu: Hot-Reload<br/>Jules-13]:::blocked

    %% PHASE 1 Dependencies
    P1A --> P1B

    %% PHASE 2 Dependencies (Jules-10 completed MotionController trait)
    P4A -.MotionController trait exists.-> P2A

    %% PHASE 3 Dependencies
    P3C --> P3D

    %% PHASE 4 Dependencies (CRITICAL PATH)
    P4A --> P4B
    P4B --> P4C
    P4C --> P4E
    P4A --> P4D

    %% Jules-10 Critical Blocker Highlighted
    P4A ==>|BLOCKS 4 TASKS| P4B
    P4A ==>|BLOCKS| P4D

    %% Styling
    classDef complete fill:#90EE90,stroke:#228B22,stroke-width:2px,color:#000
    classDef ready fill:#87CEEB,stroke:#4682B4,stroke-width:2px,color:#000
    classDef blocked fill:#FFB6C1,stroke:#DC143C,stroke-width:2px,color:#000
    classDef critical fill:#FFD700,stroke:#FF8C00,stroke-width:4px,color:#000

    %% Legend
    subgraph Legend
        L1[Complete]:::complete
        L2[Ready to Start]:::ready
        L3[Blocked]:::blocked
        L4[Critical Blocker]:::critical
    end
