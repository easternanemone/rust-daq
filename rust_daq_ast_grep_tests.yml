- id: std-thread-sleep-in-async-test
  rule:
    id: std-thread-sleep-in-async
  cases:
    - code: |
        async fn my_async_function() {
          std::thread::sleep(std::time::Duration::from_secs(1));
        }
      errors: 1
    - code: |
        fn my_sync_function() {
          std::thread::sleep(std::time::Duration::from_secs(1));
        }
      errors: 0

- id: redundant-else-test
  rule:
    id: redundant-else
  cases:
    - code: |
        if true {
          return 1;
        } else {
          return 2;
        }
      errors: 1
    - code: |
        if true {
          let x = 1;
        } else {
          let y = 2;
        }
      errors: 0

- id: manual-shutdown-logic-test
  rule:
    id: manual-shutdown-logic
  cases:
    - code: |
        async fn stop_instrument() {
          tokio::time::timeout(std::time::Duration::from_secs(5), async {}).await;
        }
      errors: 1
    - code: |
        async fn stop_recording() {
          tokio::time::timeout(std::time::Duration::from_secs(5), async {}).await;
        }
      errors: 1
    - code: |
        async fn other_function() {
          tokio::time::timeout(std::time::Duration::from_secs(5), async {}).await;
        }
      errors: 0

- id: string-to-string-test
  rule:
    id: string-to-string
  cases:
    - code: |
        let s = "hello".to_string();
        let s2 = s.to_string();
      errors: 1
    - code: |
        let s = "hello";
        let s2 = s.to_string();
      errors: 0

- id: unnecessary-to-owned-test
  rule:
    id: unnecessary-to-owned
  cases:
    - code: |
        let s = "hello".to_string();
        let s2 = s.to_owned();
      errors: 1
    - code: |
        let s = "hello";
        let s2 = s.to_owned();
      errors: 0
