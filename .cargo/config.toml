# Cargo configuration for rust-daq
# Helps manage build artifact size and improve build times

[build]
# Use sparse registry protocol for faster index updates
rustflags = []

[profile.dev]
# Limit incremental compilation cache to 256MB per crate
# Reduces disk usage at cost of slightly slower incremental rebuilds
incremental = true

[profile.dev.build-override]
# Optimize build scripts in dev mode for faster builds
opt-level = 2

[profile.release]
# Disable incremental for release builds (not useful, saves space)
incremental = false

# Recommendations for managing target directory size:
# 1. Run `cargo clean` periodically (monthly or when >5GB)
# 2. Install cargo-sweep: `cargo install cargo-sweep`
#    Then run: `cargo sweep --maxsize 2GB` to clean old artifacts
# 3. Use `cargo build --timings` to identify slow dependencies
