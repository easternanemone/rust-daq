[package]
name = "esp300-native"
version = "1.0.0"
edition = "2021"
description = "Native Rust plugin for Newport ESP300 translation stage"
license = "MIT OR Apache-2.0"
publish = false

[lib]
# cdylib creates a dynamically loadable library (.so/.dll/.dylib)
crate-type = ["cdylib"]

[dependencies]
# FFI-stable plugin API
daq-plugin-api = { path = "../../../crates/daq-plugin-api" }

# abi_stable for FFI-safe types
abi_stable = "0.11"

# Serialization for state preservation during hot-reload
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# Serial port communication
tokio-serial = "5.4"
tokio = { version = "1.0", features = ["rt", "sync", "time", "io-util"] }

# Error handling
anyhow = "1.0"
thiserror = "1.0"

# Tracing for debugging
tracing = "0.1"

[features]
default = []
# Enable mock mode for testing without hardware
mock = []

# Make this an independent crate, not part of the parent workspace
[workspace]
